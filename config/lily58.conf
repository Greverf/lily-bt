# ===== Bluetooth Optimization =====
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
CONFIG_BT_GATT_AUTO_RESUBSCRIBE=y
CONFIG_BT_MAX_CONN=3

# ===== Power Management =====
CONFIG_ZMK_IDLE_TIMEOUT=30000                 # 30 seg para apagar retroiluminación/entrar idle
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000          # 15 min para entrar a sleep profundo
CONFIG_ZMK_EXT_POWER=y

# ===== Wake Key Only =====
CONFIG_ZMK_KEY_WAKEUP=n                        # Desactiva wake con cualquier tecla
CONFIG_ZMK_KSCAN_MATRIX_POLLING_WHILE_SLEEP=n  # No escanea toda la matriz en sleep
CONFIG_ZMK_BLE_ADV_ON_WAKE=y                   # Siempre anunciar al despertar
CONFIG_ZMK_BLE_RESET_ON_WAKE_FAIL=y            # Reiniciar BLE si la reconexión falla

# ===== Stability Improvements =====
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5
CONFIG_BT_RX_STACK_SIZE=2048
